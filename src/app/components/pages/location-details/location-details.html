<div class="location-details-bg">
  @if (loading) {
    <div class="loading-container">
      <p class="loading-text">Loading location details...</p>
    </div>
  }

  @if (!loading && location) {
    <div class="location-details-container">
      <button class="back-button" (click)="goBack()">
        ← Back to Locations
      </button>

      <div class="location-details-card">
        <div class="location-header">
          <div class="location-title-section">
            <h1 class="location-title">{{ location.name }}</h1>
            <div class="location-meta">
              <p class="location-type">
                <span class="label">Type:</span> {{ location.type }}
              </p>
              <p class="location-dimension">
                <span class="label">Dimension:</span> {{ location.dimension }}
              </p>
            </div>
          </div>
        </div>

        @if (residents && residents.length > 0) {
          <div class="residents-section">
            <h2 class="section-title">Residents ({{ residents.length }})</h2>
            <div class="residents-grid">
              @for (resident of residents; track resident.id) {
                <character-card [character]="resident"></character-card>
              }
            </div>
          </div>
        } @else {
          <div class="no-residents">
            <p>No known residents</p>
          </div>
        }
      </div>
    </div>
  }

  @if (!loading && !location) {
    <div class="error-container">
      <p class="error-text">Location not found</p>
      <button class="back-button" (click)="goBack()">← Back to Locations</button>
    </div>
  }
</div>
